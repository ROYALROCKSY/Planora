/* Preferences Page â€” Pink/Purple theme, fully responsive */

/* Theme tokens (align with timer.css/tasks.css/code-page.css) */
:root {
  --pink-500: #f472b6;
  --pink-600: #ec4899;
  --purple-500: #a78bfa;
  --purple-600: #8b5cf6;

  --bg: #faf7fc;
  --surface: #ffffff;
  --surface-2: #faf6ff;
  --text-strong: #111827;
  --text: #1f2937;
  --muted: #6b7280;

  --ring: rgba(236, 72, 153, 0.35);
  --shadow: 0 10px 20px rgba(168, 139, 250, 0.1), 0 4px 8px rgba(236, 72, 153, 0.06);
  --shadow-hover: 0 16px 32px rgba(168, 139, 250, 0.18), 0 6px 14px rgba(236, 72, 153, 0.1);
  --radius: 16px;
}

/* Reset helpers */
*,
*::before,
*::after {
  box-sizing: border-box;
}

.preferences-container {
  max-width: 1000px;
  margin: 24px auto;
  padding: 24px;
  background: linear-gradient(180deg, var(--surface) 0%, var(--surface-2) 100%);
  border-radius: calc(var(--radius) + 8px);
  box-shadow: var(--shadow);
}

/* Title */
.preferences-container > h1 {
  margin: 0 0 24px 0;
  font-size: clamp(1.5rem, 1.2rem + 1.2vw, 2rem);
  line-height: 1.2;
  font-weight: 700;
  color: var(--text-strong);
  background: linear-gradient(90deg, var(--pink-600), var(--purple-600));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Cards */
.pref-card {
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  margin-bottom: 20px;
}

.pref-card-header {
  background: linear-gradient(135deg, rgba(250, 232, 255, 0.9), rgba(255, 240, 247, 0.9));
  padding: 14px 18px;
  border-bottom: 1px solid rgba(139, 92, 246, 0.15);
}

.pref-card-header h2 {
  margin: 0;
  font-size: clamp(1.05rem, 0.9rem + 0.6vw, 1.25rem);
  font-weight: 700;
  color: var(--text-strong);
}

.pref-card-body {
  padding: 18px;
}

/* Layout rows (two columns on md+, stacked on mobile) */
.pref-form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}
@media (min-width: 640px) {
  .pref-form-row {
    grid-template-columns: 1fr 1fr;
  }
}

/* Form controls */
.pref-form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.pref-form-group label {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--text);
}

.pref-input,
.pref-form-group input[type="text"],
.pref-form-group input[type="number"],
.pref-form-group input[type="date"],
.pref-form-group input[type="time"],
.pref-form-group select,
.pref-form-group textarea {
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid rgba(139, 92, 246, 0.25);
  background: #fff;
  color: var(--text);
  font: inherit;
  transition: border-color .2s ease, box-shadow .2s ease, transform .06s ease;
}

.pref-input:focus,
.pref-form-group input:focus,
.pref-form-group select:focus,
.pref-form-group textarea:focus {
  outline: none;
  border-color: var(--pink-600);
  box-shadow: 0 0 0 3px var(--ring);
}

.pref-form-group select {
  appearance: none;
  background-image: linear-gradient(45deg, transparent 50%, var(--purple-600) 50%),
    linear-gradient(135deg, var(--purple-600) 50%, transparent 50%),
    linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0));
  background-position: calc(100% - 18px) calc(1.1em), calc(100% - 13px) calc(1.1em), calc(100% - 2.5em) .5em;
  background-size: 6px 6px, 6px 6px, 1px 1.5em;
  background-repeat: no-repeat;
}

/* Read-only display bubbles */
.pref-display-value {
  padding: 10px 12px;
  border-radius: 9999px;
  background: linear-gradient(180deg, #fff, #fbf8ff);
  border: 1px solid rgba(139, 92, 246, 0.18);
  color: var(--text);
  display: inline-block;
  max-width: 100%;
}

/* Tags (subjects & difficulties read mode) */
.pref-tags-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.pref-tag {
  display: inline-flex;
  align-items: center;
  padding: 6px 12px;
  border-radius: 9999px;
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.15), rgba(167, 139, 250, 0.18));
  color: var(--text);
  border: 1px solid rgba(139, 92, 246, 0.2);
  font-weight: 600;
}

/* Checkbox grid */
.pref-checkbox-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px 14px;
  padding: 4px 0;
}
@media (min-width: 520px) {
  .pref-checkbox-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (min-width: 860px) {
  .pref-checkbox-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
.pref-checkbox-grid label {
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--text);
}

/* Subjects editor list */
#subjects-container {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
#subjects-container .pref-input {
  width: 100%;
}

/* Buttons */
.pref-btn {
  --btn-pad-x: 18px;
  --btn-pad-y: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: var(--btn-pad-y) var(--btn-pad-x);
  border-radius: 9999px;
  border: 0;
  font-weight: 700;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease, color .2s ease, border-color .2s ease;
}

.pref-btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--ring);
}

.pref-btn-primary {
  color: #fff;
  background: linear-gradient(135deg, var(--pink-600), var(--purple-600));
  box-shadow: var(--shadow);
}
.pref-btn-primary:hover {
  box-shadow: var(--shadow-hover);
  transform: translateY(-1px);
}
.pref-btn-primary:active {
  transform: translateY(0);
}

.pref-btn-secondary {
  color: var(--purple-600);
  background: linear-gradient(#fff, #fff) padding-box, linear-gradient(135deg, var(--pink-600), var(--purple-600))
    border-box;
  border: 2px solid transparent;
}
.pref-btn-secondary:hover {
  background: linear-gradient(180deg, #fff, #fbf8ff) padding-box,
    linear-gradient(135deg, var(--pink-600), var(--purple-600)) border-box;
  transform: translateY(-1px);
}

/* Actions row */
.pref-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: flex-end;
  padding: 8px 2px 2px;
}

/* Spacing tune-ups */
.pref-card + .pref-card {
  margin-top: 18px;
}
.pref-form-group + .pref-form-group {
  margin-top: 8px;
}

/* Accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .pref-btn,
  .pref-input,
  .pref-form-group input,
  .pref-form-group select,
  .pref-form-group textarea,
  .pref-card {
    transition: none !important;
  }
}
